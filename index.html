<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>For You</title>
    <style>
      body {
        background: linear-gradient(to bottom right, #fff8f2, #fde6f4);
        font-family: "Segoe UI", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2em;
        min-height: 100vh;
        color: #444;
      }

      #box {
        max-width: 700px;
        font-size: 1.2rem;
        line-height: 1.7;
        border-radius: 20px;
        background: white;
        padding: 2em;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border: 2px solid #c1a872;
        text-align: center;
        position: relative;
      }

      .input-block {
        margin-top: 1.5em;
      }

      input,
      textarea {
        padding: 0.5em 1em;
        font-size: 1rem;
        border: 2px solid #c1a872;
        border-radius: 12px;
        outline: none;
        width: 90%;
        max-width: 500px;
        margin-bottom: 1em;
        resize: none;
      }

      button {
        padding: 0.6em 1.5em;
        font-size: 1rem;
        background: #c1a872;
        color: white;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        transition: background 0.3s;
      }

      button:hover {
        background: #b08c5c;
      }

      .floating-heart {
        position: absolute;
        bottom: 10px;
        right: 10px;
        font-size: 2rem;
        animation: float 3s infinite ease-in-out, pulse 1.5s infinite;
        opacity: 0.8;
      }

      @keyframes float {
        0% {
          transform: translateY(0);
          opacity: 0.8;
        }
        50% {
          transform: translateY(-15px);
          opacity: 1;
        }
        100% {
          transform: translateY(0);
          opacity: 0.8;
        }
      }

      @keyframes pulse {
        0%, 100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      footer {
        margin-top: 2em;
        font-size: 0.85rem;
        color: #999;
        text-align: center;
      }

      .response-block {
        margin-top: 2em;
      }

      @media (max-width: 500px) {
        #box {
          padding: 1.5em;
        }

        input,
        textarea {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div id="box">
      <div id="message" aria-live="polite"></div>

      <div class="input-block" id="nameInputBlock" style="display: none">
        <p>Tu veux entrer ton pr√©nom ? üòä</p>
        <input type="text" id="name" placeholder="Ton pr√©nom..." required />
        <br />
        <button onclick="handleName()" aria-label="Valider le pr√©nom">Valider</button>
      </div>

      <div class="response-block" id="responseBlock" style="display: none">
        <p>Tu veux me r√©pondre ? üí¨</p>
        <form
          action="https://formsubmit.co/sergiomuzito@gmail.com"
          method="POST"
        >
          <input
            type="hidden"
            name="_subject"
            value="R√©ponse √† ton mot doux üíñ"
          />
          <input type="hidden" name="_captcha" value="false" />
          <input type="hidden" name="_next" value="https://example.com/merci.html" />
          <textarea
            name="message"
            rows="4"
            placeholder="Tu peux me r√©pondre ici..."
            required
          ></textarea>
          <br />
          <button type="submit" aria-label="Envoyer le message">Envoyer ‚ú®</button>
        </form>
      </div>

      <div class="floating-heart">üíó</div>
    </div>

    <footer>Fait avec amour & JavaScript üß∏‚ú®</footer>

    <script>
      const hearts = ["‚ù§Ô∏è", "üíõ", "üíö", "üíô", "üíú", "üß°"];
      const messageEl = document.getElementById("message");
      const inputBlock = document.getElementById("nameInputBlock");
      const responseBlock = document.getElementById("responseBlock");

      function sleep(ms) {
        return new Promise((resolve) => setTimeout(resolve, ms));
      }

      async function typeText(text, delay = 40) {
        for (let char of text) {
          messageEl.innerHTML += char;
          await sleep(delay);
        }
        messageEl.innerHTML += "<br/>";
        await sleep(400);
      }

      async function startMessage() {
        await typeText("Coucou, toi üëã");
        await sleep(3000);
        await typeText("Tu vas bien j'esp√®re");
        await sleep(800);
        await typeText("Longue journ√©e?");
        await typeText("Belle quand m√™me hein?");
        await sleep(1500);
        await typeText("J‚Äôavais juste envie de te dire quelque chose...");
        await sleep(800);
        await typeText("Mais d'abord, r√©ponds-moi :");
        inputBlock.style.display = "block";
      }

      async function handleName() {
        const nameInput = document.getElementById("name");
        const name = nameInput.value.trim();
        if (!name) return nameInput.focus();

        // Ajouter un champ cach√© avec le pr√©nom dans le formulaire
        const form = document.querySelector("form");
        const hiddenNameInput = document.createElement("input");
        hiddenNameInput.type = "hidden";
        hiddenNameInput.name = "prenom";
        hiddenNameInput.value = name;
        form.appendChild(hiddenNameInput);

        inputBlock.style.display = "none";
        messageEl.innerHTML = "";

        await typeText(
          `Oh ${name}... joli pr√©nom ü•∞ Mais t‚Äô√©tais pas cens√© t‚Äôappeler Si Saint ? üòÑ`
        );
        await typeText("Devine quoi...");
        await sleep(1500);
        await typeText("...");
        await sleep(800);
        await typeText("Tu comptes beaucoup pour moi. Vraiment. üíñ");
        await sleep(1000);
        await typeText(
          `${randomHeart()} ${name}, t‚Äôes quelqu‚Äôun de sp√©cial. ${randomHeart()}`
        );
        await typeText("Je voulais que tu le saches.");
        await sleep(800);
        await typeText("Et cette fois j'ai pas oubli√© ton anniversaire. ü§≠");
        await sleep(200);
        await typeText(
          "Je sais, le souhait arrive en retard, je devrais faire ce truc un peu original, tu vois üòè"
        );
        await sleep(1000);
        await typeText("Et puis t'as laiss√© en vue depuis l'autre jour üò≠");
        await sleep(1000);
        await typeText("Mais c'est pas grave, je te pardonne");
        await sleep(1000);
        await typeText(
          "Merci pour ta vie, ta pr√©sence dans la mienne, et tout ce qu'on a v√©cu."
        );
        await sleep(800);
        await typeText("Je te souhaite tout le meilleur dans le futur.");
        await sleep(1000);
        await typeText("Joyeux anniversaire petite üí´");

        responseBlock.style.display = "block";
      }

      function randomHeart() {
        return hearts[Math.floor(Math.random() * hearts.length)];
      }

      startMessage();
    </script>
  </body>
</html>
